<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Albert Adroer Prats - Game Developer</title>

<style>
  /* reset */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body {
    background: radial-gradient(ellipse at center, #f5f5f7 0%, #e8e8e8 35%, #dcdcdc 100%);
    font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow-x:hidden;
    opacity: 0;
    transition: opacity 1.2s ease-in-out;
  }

  body.dark-theme {
    background: radial-gradient(ellipse at center, rgba(20,20,20,1) 0%, rgba(15,15,15,1) 35%, #0a0a0a 100%);
    color: #fff;
  }

  /* ocean waves (unchanged) */
  .ocean{height:5%;width:100%;position:fixed;bottom:0;left:0;background:#e0e0e0;z-index:0}
  .wave{background:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88.7'%3E%3Cpath d='M800 56.9c-155.5 0-204.9-50-405.5-49.9-200 0-250 49.9-394.5 49.9v31.8h800v-.2-31.6z' fill='%23d0d0d0'/%3E%3C/svg%3E") repeat-x;position:absolute;top:-198px;width:6400px;height:198px;animation:wave 7s linear infinite;transform:translate3d(0,0,0)}
  .wave:nth-of-type(2){top:-175px;animation:wave 7s linear -.125s infinite}
  @keyframes wave{0%{margin-left:0}100%{margin-left:-1600px}}

  .dark-theme .ocean {
    background: #1a1a1a;
  }
  
  .dark-theme .wave {
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 800 88.7'%3E%3Cpath d='M800 56.9c-155.5 0-204.9-50-405.5-49.9-200 0-250 49.9-394.5 49.9v31.8h800v-.2-31.6z' fill='%23111111'/%3E%3C/svg%3E") repeat-x;
  }

  /* layout */
  .container{
    position:relative;
    z-index:1;
    padding:40px 20px;
    min-height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    gap: 30px;
  }
  
  /* MAIN GLASS card */
  .glass-container{
    position:relative;
    width: min(880px, 94%);
    border-radius:28px;
    padding:40px;
    /* subtle base color so backdrop-filter shows through nicely */
    background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
    border: 1px solid rgba(255,255,255,0.4);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    backdrop-filter: blur(24px) saturate(180%);
    box-shadow:
      0 12px 40px rgba(0,0,0,0.15),
      inset 0 1px 0 rgba(255,255,255,0.6),
      inset 0 -1px 0 rgba(255,255,255,0.3);
    overflow:visible;
    transform: translateZ(0); /* create a new layer for GPU */
    transition: transform 0.3s ease;
  }

  .dark-theme .glass-container {
    background: linear-gradient(180deg, rgba(255,255,255,0.025), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow:
      0 12px 40px rgba(0,0,0,0.6),
      inset 0 1px 0 rgba(255,255,255,0.04),
      inset 0 -1px 0 rgba(255,255,255,0.02);
  }

  /* PDF Reader Panel */
  .pdf-panel {
    position: relative;
    width: min(300px, 90%);
    border-radius: 28px;
    padding: 30px 25px;
    background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
    border: 1px solid rgba(255,255,255,0.4);
    -webkit-backdrop-filter: blur(24px) saturate(180%);
    backdrop-filter: blur(24px) saturate(180%);
    box-shadow:
      0 12px 40px rgba(0,0,0,0.15),
      inset 0 1px 0 rgba(255,255,255,0.6),
      inset 0 -1px 0 rgba(255,255,255,0.3);
    overflow: visible;
    transform: translateZ(0);
    display: none;
    flex-direction: column;
    gap: 20px;
  }

  .dark-theme .pdf-panel {
    background: linear-gradient(180deg, rgba(255,255,255,0.025), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.08);
    box-shadow:
      0 12px 40px rgba(0,0,0,0.6),
      inset 0 1px 0 rgba(255,255,255,0.04),
      inset 0 -1px 0 rgba(255,255,255,0.02);
  }

  .pdf-panel.active {
    display: flex;
  }

  .pdf-panel .glass-inner-border,
  .pdf-panel .distort-layer {
    position: absolute;
    inset: 0;
    border-radius: 28px;
    pointer-events: none;
  }

  .pdf-panel .glass-inner-border {
    z-index: 4;
    background: linear-gradient(180deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(255,255,255,0.1);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
  }

  .dark-theme .pdf-panel .glass-inner-border {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), inset 0 -1px 0 rgba(255,255,255,0.02);
  }

  .pdf-panel .distort-layer {
    z-index: 3;
    background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    mix-blend-mode: overlay;
    opacity: 0.5;
    filter: url(#liquid);
    will-change: filter;
  }

  .dark-theme .pdf-panel .distort-layer {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  }

  .pdf-panel::before {
    content: '';
    position: absolute;
    z-index: 6;
    inset: 0;
    border-radius: 28px;
    pointer-events: none;
    background: radial-gradient(120% 80% at 10% 10%, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 6%, rgba(255,255,255,0.00) 20%),
                linear-gradient(180deg, rgba(255,255,255,0.4), rgba(255,255,255,0.00) 40%);
    mix-blend-mode: screen;
    opacity: 0.95;
    transform: translateZ(0);
  }

  .dark-theme .pdf-panel::before {
    background: radial-gradient(120% 80% at 10% 10%, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0.06) 6%, rgba(255,255,255,0.00) 20%),
                linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.00) 40%);
  }

  .pdf-panel::after {
    content: '';
    position: absolute;
    z-index: 2;
    inset: -2px;
    border-radius: 30px;
    pointer-events: none;
    background: transparent;
    box-shadow:
      -6px -3px 18px -10px rgba(255,150,150,0.4),
      6px 3px 18px -10px rgba(150,200,255,0.4),
      -4px 6px 22px -14px rgba(150,255,200,0.2);
    mix-blend-mode: screen;
    opacity: 0.9;
    filter: blur(6px);
  }

  .dark-theme .pdf-panel::after {
    box-shadow:
      -6px -3px 18px -10px rgba(255,80,100,0.25),
      6px 3px 18px -10px rgba(120,180,255,0.25),
      -4px 6px 22px -14px rgba(120,255,200,0.12);
  }

  .pdf-title {
    font-size: 22px;
    font-weight: 600;
    margin-bottom: 10px;
    position: relative;
    z-index: 5;
  }

  .pdf-description {
    font-size: 14px;
    line-height: 1.5;
    margin-bottom: 20px;
    position: relative;
    z-index: 5;
  }

  .pdf-download-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    padding: 12px 20px;
    background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
    border: 1px solid rgba(255,255,255,0.4);
    border-radius: 14px;
    color: #333;
    text-decoration: none;
    font-weight: 500;
    font-size: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
    position: relative;
    z-index: 5;
    -webkit-backdrop-filter: blur(10px);
    backdrop-filter: blur(10px);
  }

  .dark-theme .pdf-download-btn {
    background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
    border: 1px solid rgba(255,255,255,0.15);
    color: #fff;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
  }

  .pdf-download-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.15);
  }

  .dark-theme .pdf-download-btn:hover {
    box-shadow: 0 6px 20px rgba(0,0,0,0.4);
  }

  .pdf-download-btn img {
    width: 18px;
    height: 18px;
    filter: brightness(0) invert(0.3);
  }

  .dark-theme .pdf-download-btn img {
    filter: brightness(0) invert(1);
  }

  /* Animated distortion layer - sits above the card's blurred background */
  .glass-container .distort-layer{
    pointer-events:none;
    position:absolute;
    inset:0;
    border-radius:28px;
    z-index:3;
    /* subtle translucency, will be filtered by SVG turbulence */
    background: linear-gradient(180deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    mix-blend-mode: overlay;
    opacity:0.5;
    filter: url(#liquid); /* SVG filter applied here */
    will-change: filter;
  }

  .dark-theme .glass-container .distort-layer {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  }

  /* Fresnel rim highlight */
  .glass-container::before{
    content:'';
    position:absolute;
    z-index:6;
    inset:0;
    border-radius:28px;
    pointer-events:none;
    background: radial-gradient(120% 80% at 10% 10%, rgba(255,255,255,0.8) 0%, rgba(255,255,255,0.4) 6%, rgba(255,255,255,0.00) 20%),
                linear-gradient(180deg, rgba(255,255,255,0.4), rgba(255,255,255,0.00) 40%);
    mix-blend-mode: screen;
    opacity:0.95;
    transform: translateZ(0);
  }

  .dark-theme .glass-container::before {
    background: radial-gradient(120% 80% at 10% 10%, rgba(255,255,255,0.18) 0%, rgba(255,255,255,0.06) 6%, rgba(255,255,255,0.00) 20%),
                linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.00) 40%);
  }

  /* Chromatic aberration rim: 3 colored offset layers to the outside edge */
  .glass-container::after{
    content:'';
    position:absolute;
    z-index:2;
    inset:-2px; /* allow colored fringes outside */
    border-radius:30px;
    pointer-events:none;
    background: transparent;
    box-shadow:
      /* subtle colored glows offset slightly to simulate fringing */
      -6px -3px 18px -10px rgba(255,150,150,0.4),
      6px 3px 18px -10px rgba(150,200,255,0.4),
      -4px 6px 22px -14px rgba(150,255,200,0.2);
    mix-blend-mode: screen;
    opacity:0.9;
    filter: blur(6px);
  }

  .dark-theme .glass-container::after {
    box-shadow:
      -6px -3px 18px -10px rgba(255,80,100,0.25),
      6px 3px 18px -10px rgba(120,180,255,0.25),
      -4px 6px 22px -14px rgba(120,255,200,0.12);
  }

  /* inner glass border (thin inner rim) */
  .glass-inner-border{
    position:absolute;
    inset:1px;
    border-radius:26px;
    z-index:4;
    pointer-events:none;
    background: linear-gradient(180deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.3), inset 0 -1px 0 rgba(255,255,255,0.1);
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    mask-composite: exclude;
  }

  .dark-theme .glass-inner-border {
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), inset 0 -1px 0 rgba(255,255,255,0.02);
  }

  /* header/content unchanged but elevated z-index so highlights show above distortion */
  .header{display:flex;align-items:center;gap:24px;margin-bottom:30px;position:relative;z-index:5}
  .profile-pic{
    width:120px;height:120px;border-radius:50%;object-fit:cover;border:3px solid rgba(0,0,0,0.1);
    box-shadow:0 6px 26px rgba(0,0,0,0.15);
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .profile-pic:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 30px rgba(0,0,0,0.2);
  }
  .dark-theme .profile-pic {
    border: 3px solid rgba(255,255,255,0.15);
    box-shadow:0 6px 26px rgba(0,0,0,0.5);
  }
  .dark-theme .profile-pic:hover {
    box-shadow: 0 8px 30px rgba(0,0,0,0.6);
  }
  .name{color:#333;font-size:32px;font-weight:600}
  .dark-theme .name { color: #ffffff; }
  .description{color:rgba(0,0,0,0.8);line-height:1.7;margin-bottom:35px;font-size:16px;position:relative;z-index:5}
  .dark-theme .description { color: rgba(255,255,255,0.88); }

  .links-container{display:flex;justify-content:center;gap:30px;margin-bottom:35px;flex-wrap:wrap;position:relative;z-index:5}

  /* icon wrapper: glass mini-cards with distortion & chromatic edges */
  .link-button{display:flex;flex-direction:column;align-items:center;gap:8px;text-decoration:none;transition:transform .26s cubic-bezier(.2,.9,.2,1),filter .26s}
  .link-button:hover{transform:translateY(-6px) scale(1.03)}

  .icon-wrapper{
    position:relative;
    width:72px;height:72px;border-radius:18px;
    background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
    -webkit-backdrop-filter: blur(18px) saturate(170%);
    backdrop-filter: blur(18px) saturate(170%);
    border: 1px solid rgba(255,255,255,0.4);
    display:flex;justify-content:center;align-items:center;
    box-shadow:
      0 8px 26px rgba(0,0,0,0.15),
      inset 0 1px 0 rgba(255,255,255,0.6);
    overflow:visible;
    transition:all .26s cubic-bezier(.2,.9,.2,1);
    z-index:5;
  }

  .dark-theme .icon-wrapper {
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.09);
    box-shadow:
      0 8px 26px rgba(0,0,0,0.45),
      inset 0 1px 0 rgba(255,255,255,0.06);
  }

  /* micro-distort & chroma for each icon */
  .icon-wrapper .icon-distort{
    pointer-events:none;
    position:absolute;
    inset:0;
    border-radius:16px;
    filter: url(#liquid-small);
    opacity:0.3;
    mix-blend-mode: overlay;
    z-index:2;
  }

  .dark-theme .icon-wrapper .icon-distort {
    opacity: 0.45;
  }

  /* icon colored fringe (three small offset shadows) */
  .icon-wrapper::after{
    content:'';
    position:absolute;
    inset:-2px;
    border-radius:20px;
    pointer-events:none;
    z-index:1;
    box-shadow:
      -3px -2px 12px -7px rgba(255,150,150,0.5),
      3px 2px 12px -7px rgba(150,200,255,0.5);
    filter: blur(4px);
    mix-blend-mode: screen;
  }

  .dark-theme .icon-wrapper::after {
    box-shadow:
      -3px -2px 12px -7px rgba(255,110,120,0.7),
      3px 2px 12px -7px rgba(110,160,255,0.7);
  }

  .icon-wrapper img{width:40px;height:40px;object-fit:contain;filter:brightness(0) invert(0.3);position:relative;z-index:6}
  .dark-theme .icon-wrapper img { filter: brightness(0) invert(1); }

  .link-label{color:rgba(0,0,0,0.8);font-size:13px;text-align:center;font-weight:400;position:relative;z-index:5}
  .dark-theme .link-label { color: rgba(255,255,255,0.9); }

  .footer{position:relative;z-index:5;text-align:center;margin-top:30px;padding-top:25px;border-top:1px solid rgba(0,0,0,0.1)}
  .dark-theme .footer { border-top: 1px solid rgba(255,255,255,0.06); }
  .email{color:rgba(0,0,0,0.7);font-size:15px;margin-bottom:10px;text-decoration:none;display:block}
  .dark-theme .email { color: rgba(255,255,255,0.7); }
  .copyright{color:rgba(0,0,0,0.5);font-size:13px}
  .dark-theme .copyright { color: rgba(255,255,255,0.45); }

/* small responsive tweaks */
  @media (max-width:600px){
    .header{flex-direction:column;text-align:center}
    .name{font-size:26px}
    .glass-container{padding:30px 20px}
    .profile-pic{width:100px;height:100px}
    .icon-wrapper{width:60px;height:60px;border-radius:14px}
    .icon-wrapper img{width:34px;height:34px}
  }

  @media (max-width: 1200px) {
    .container {
      flex-direction: column;
    }
    .pdf-panel {
      width: min(880px, 94%);
    }
  }
</style>

<!-- inline SVG filters -->
<svg style="position:absolute;width:0;height:0;pointer-events:none" aria-hidden="true" focusable="false">
  <defs>
    <!-- Liquid displacement filter for the big card -->
    <filter id="liquid" x="-20%" y="-20%" width="140%" height="140%">
      <!-- animated noise -->
      <feTurbulence id="turb" baseFrequency="0.006 0.01" numOctaves="2" seed="5" stitchTiles="stitch" type="fractalNoise"/>
      <feColorMatrix type="saturate" values="0.8"/>
      <!-- make displacement gentle -->
      <feDisplacementMap in="SourceGraphic" in2="turb" scale="6" xChannelSelector="R" yChannelSelector="G"/>
    </filter>

    <!-- smaller variant for the icon boxes -->
    <filter id="liquid-small" x="-30%" y="-30%" width="160%" height="160%">
      <feTurbulence id="turb-small" baseFrequency="0.015 0.02" numOctaves="1" seed="7" stitchTiles="stitch" type="fractalNoise"/>
      <feDisplacementMap in="SourceGraphic" in2="turb-small" scale="3" xChannelSelector="R" yChannelSelector="G"/>
    </filter>
  </defs>
</svg>
</head>

<body>
  <div class="ocean">
    <div class="wave"></div>
    <div class="wave"></div>
  </div>

  <div class="container">
    <!-- Main content card -->
    <div class="glass-container" id="glass">
      <div class="glass-inner-border" aria-hidden="true"></div>
      <div class="distort-layer" id="distortLayer" aria-hidden="true"></div>

      <div class="header">
        <img src="Albert.jpg" alt="Albert Adroer Prats" class="profile-pic" id="profilePic">
        <h1 class="name">Albert Adroer Prats</h1>
      </div>

      <div class="description">
        <p>I'm a 27 year old game developer from Barcelona. I make Unity games and love creating immersive experiences. My first commercial game, Bald Ball, is published on Steam, and I share other experiments on itch.io.</p>

        <p style="margin-top:15px">Right now I'm leading development on Mushy Roots, a metroidvania I'm building with a digital artist and a music composer. I handle most of the development while coordinating our small team.</p>

        <p style="margin-top:15px">I studied data analytics at Ironhack Bootcamp and built some Python + AI tools to make data analysis easier. That project is paused while I finish the Mushy Roots demo. I'm also learning C++ from scratch using Bjarne Stroustrup's book, which has been the best learning experience so far. C++ is just the start of my path to becoming a software engineer.</p>

        <p style="margin-top:15px">In my free time I like making music, painting with oil, bouldering and hiking, though I don't have much time for those things right now.</p>
      </div>

      <div class="links-container">
        <a href="https://store.steampowered.com/app/3489590/Bald_Ball/" class="link-button" target="_blank">
          <div class="icon-wrapper">
            <div class="icon-distort"></div>
            <img src="steam-icon.png" alt="Steam">
          </div>
          <span class="link-label">Bald Ball</span>
        </a>

        <a href="https://github.com/treblalbert" class="link-button" target="_blank">
          <div class="icon-wrapper">
            <div class="icon-distort"></div>
            <img src="github-icon.png" alt="GitHub">
          </div>
          <span class="link-label">GitHub</span>
        </a>

        <a href="https://albertfreeman.itch.io/" class="link-button" target="_blank">
          <div class="icon-wrapper">
            <div class="icon-distort"></div>
            <img src="itch-icon.png" alt="Itch.io">
          </div>
          <span class="link-label">Itch.io</span>
        </a>

        <!-- New PDF Reader Button -->
        <a href="#" class="link-button" id="pdfButton">
          <div class="icon-wrapper">
            <div class="icon-distort"></div>
            <img src="pdf.png" alt="PDF Reader">
          </div>
          <span class="link-label">ATW PDF Viewer</span>
        </a>
      </div>

      <div class="footer">
        <a class="email" href="mailto:albertadroer@gmail.com">albertadroer@gmail.com</a>
        <div class="copyright">© 2025 Albert Adroer Prats</div>
      </div>
    </div>

    <!-- PDF Reader Panel -->
    <div class="pdf-panel" id="pdfPanel">
      <div class="glass-inner-border" aria-hidden="true"></div>
      <div class="distort-layer" aria-hidden="true"></div>
      
      <h2 class="pdf-title">Albert The Wrench PDF Reader</h2>
      <p class="pdf-description">
        Albert The Wrench PDF Reader is a feature-rich, customizable PDF viewer built with Python that offers an intuitive interface combined with powerful document management capabilities. Designed for both casual users and professionals who need efficient PDF navigation and annotation tools.
      </p>
      <!-- Updated button to open a link instead of downloading -->
      <a href="https://sl1nk.com/zXfO0" class="pdf-download-btn" target="_blank">
        <img src="pdf.png" alt="Download (Mega)">
        Download (Mega)
      </a>
      <a href="https://github.com/treblalbert/Albert-s-PDF-Viewer" class="pdf-download-btn" target="_blank">
        <img src="pdf.png" alt="GitHub">
        GitHub
      </a>
    </div>
  </div>

  <script>
    // Fade in effect on page load
    window.addEventListener('load', function() {
      document.body.style.opacity = '1';
    });

    // Theme toggle functionality
    document.getElementById('profilePic').addEventListener('click', function() {
      document.body.classList.toggle('dark-theme');
    });

    // PDF Reader Panel Toggle
    document.getElementById('pdfButton').addEventListener('click', function(e) {
      e.preventDefault();
      const pdfPanel = document.getElementById('pdfPanel');
      const glassContainer = document.getElementById('glass');
      
      if (pdfPanel.classList.contains('active')) {
        pdfPanel.classList.remove('active');
        glassContainer.style.transform = 'translateX(0)';
      } else {
        pdfPanel.classList.add('active');
        glassContainer.style.transform = 'translateX(-40px)';
      }
    });

    /* Small JS to animate turbulence & give a mouse-driven fresnel/parallax */
    (function(){
      const turb = document.getElementById('turb');
      const turbSmall = document.getElementById('turb-small');
      const glass = document.getElementById('glass');
      const distortLayer = document.getElementById('distortLayer');

      let t = 0;

      // gentle oscillation of baseFrequency to create organic wobble
      function animate() {
        t += 0.01;
        // subtle variation values tuned to be decorative, not distracting
        const bf1 = 0.005 + Math.sin(t * 0.9) * 0.002;
        const bf2 = 0.009 + Math.cos(t * 0.7) * 0.003;
        if (turb) turb.setAttribute('baseFrequency', bf1 + ' ' + bf2);
        if (turbSmall) turbSmall.setAttribute('baseFrequency', (0.012 + Math.sin(t*1.3)*0.004) + ' ' + (0.018 + Math.cos(t*0.9)*0.004));
        requestAnimationFrame(animate);
      }
      requestAnimationFrame(animate);

      // subtle mouse parallax that shifts the sheen / fresnel
      window.addEventListener('mousemove', (e) => {
        const rect = glass.getBoundingClientRect();
        const rx = (e.clientX - rect.left) / rect.width; // 0..1
        const ry = (e.clientY - rect.top) / rect.height;
        const moveX = (rx - 0.5) * 30; // small offset
        const moveY = (ry - 0.5) * 20;
        // move the distort layer slightly for parallax
        distortLayer.style.transform = `translate(${moveX*0.18}px, ${moveY*0.18}px)`;
        // modulate opacity (very small) to make fresnel reactive
        const op = 0.45 + Math.abs((rx - 0.5)) * 0.14 + Math.abs((ry - 0.5)) * 0.06;
        distortLayer.style.opacity = op;
        // rotate tiny for a believable holographic response
        glass.style.transform = `perspective(800px) rotateX(${(ry-0.5)*2}deg) rotateY(${(0.5-rx)*2}deg)`;
      });

      // on touch devices reduce motion; lower intensity
      function reduceMotionCheck(){
        const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
        if(mq.matches){
          if (turb) turb.setAttribute('baseFrequency','0.01 0.015');
          if (turbSmall) turbSmall.setAttribute('baseFrequency','0.018 0.022');
          window.removeEventListener('mousemove', ()=>{});
          glass.style.transform = '';
        }
      }
      reduceMotionCheck();
      window.matchMedia('(prefers-reduced-motion: reduce)').addEventListener('change', reduceMotionCheck);
    })();
  </script>
</body>
</html>